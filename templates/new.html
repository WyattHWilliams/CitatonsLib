<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="/static/style.css">
    <title>New Citation</title>
</head>

<body>
    {{form.hidden_tag()}}
    <div class="form-inline">
        <div class="form-group">
            <div class="p-1">{{form.title.label}}</div>
            <div class="p-1">{{form.title}}</div>
        </div>
        <div class="form-group">
            <div class="p-1">{{form.volume.label}}</div>
            <div class="p-1">{{form.volume}}</div>
        </div>
        <div class="form-group">
            <div class="p-1">{{form.edition.label}}</div>
            <div class="p-1">{{form.edition}}</div>
        </div>
    </div>
    <div class="form-inline">
        <div class="form-group">
            <div class="p-1">{{form.author.label}}</div>
            <div class="p-1">{{form.author}}</div>
        </div>
        <div class="form-group">
            <div class="p-1">{{form.publisher.label}}</div>
            <div class="p-1">{{form.publisher}}</div>
        </div>
        <div class="form-group">
            <div class="p-1">{{form.yr_published.label}}</div>
            <div class="p-1">{{form.yr_published}}</div>
        </div>
    </div>
    <div class="form-inline">
        <div class="form-group">
            <div class="p-1">{{form.url.label}}</div>
            <div class="p-1">{{form.url}}</div>
        </div>
        <div class="form-group">
            <div class="p-1">{{form.lccn.label}}</div>
            <div class="p-1">{{form.lccn}}</div>
        </div>
    </div>
    <div class="form-inline">
        <div class="form-group">
            <div class="p-1">{{form.yr_accessed.label}}</div>
            <div class="p-1">{{form.yr_accessed}}</div>
        </div>
        <div class="form-group">
            <div class="p-1">{{form.summary_status.label}}</div>
            <div class="p-1">{{form.summary_status}}</div>
        </div>
    </div>
    <hr>
    <div id="summary">

        <a class="add_sec" href="#">Add Section</a>

        {# Show all subforms #}
        <form id="section-form" action="" method="POST" role="form">

            <div id="secforms-container">
                {% for section_form in form.sections %}
                <div id="section-{{ loop.index0 }}" class="secform" data-index="{{ loop.index0 }}">

                    <a class="add_ent" href="#">Add Entry</a>

                    {# Show all subforms #}
                    <form id="entry-form" action="" method="POST" role="form">

                        <div id="entforms-container">
                            {% for entry in section_form.entries %}
                            <div id="entry-{{ loop.index0 }}" class="entform" data-index="{{ loop.index0 }}">

                                {{ entry.page_start.label }}
                                {{ entry.page_start }}

                                {{ entry.paragraph_start.label }}
                                {{ entry.paragraph_start }}

                                {{ entry.page_stop.label }}
                                {{ entry.page_stop }}

                                {{ entry.paragraph_stop.label }}
                                {{ entry.paragraph_stop }}

                                {{ entry.content.label }}
                                {{ entry.content }}

                                <a class="remove_ent" href="#">Remove</a>
                            </div>
                            {% endfor %}
                        </div>
                        <button type="submit">Send</button>
                    </form>

                    {{ section_form.sec_summary.label }}
                    {{ section_form.sec_summary }}

                    <a class="remove_sec" href="#">Remove</a>
                </div>
                {% endfor %}
            </div>

            <button type="submit">Send</button>
        </form>

        {% if form.errors %}
        {{ form.errors }}
        {% endif %}

        {# Show submitted data #}
        {% if data is defined %}
        <p>
            Received data:
            {{ data }}
        </p>
        {% endif %}
    </div>

    <!-- TEMPLATES -->

    <div id="entry-*" class="is-hidden" data-index="*">
        <label for="sections-^-entries-*-page_start">From Page</label>
        <input id="sections-^-entries-*-page_start" name="sections-^-entries-*-page_start" type="text" value="">

        <label for="sections-^-entries-*-paragraph_start">Paragraph</label>
        <input id="sections-^-entries-*-paragraph_start" name="sections-^-entries-*-paragraph_start" type="text"
            value="">

        <label for="sections-^-entries-*-page_stop">To Page</label>
        <input id="sections-^-entries-*-page_stop" name="sections-^-entries-*-page_stop" type="text" value="">

        <label for="sections-^-entries-*-paragraph_stop">Paragraph</label>
        <input id="sections-^-entries-*-paragraph_stop" name="sections-^-entries-*-paragraph_stop" type="text" value="">

        <label for="sections-^-entries-*-content">Entry</label>
        <input id="sections-^-entries-*-content" name="sections-^-entries-*-content" required="" type="text" value="">

        <a class="remove_ent" href="#">Remove</a>
    </div>

    <!-- SCRIPTS -->
    <script src="/static/newCitation.js"></script>
</body>

</html>